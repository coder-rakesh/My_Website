/*! imslib.js 1.11.0 4a1e185-7c42a97 */
Array.prototype.every||(Array.prototype.every=function(a,b){"use strict";var c,d;if(null==this)throw new TypeError("this is null or not defined");var e=Object(this),f=e.length>>>0;if("function"!=typeof a)throw new TypeError;for(arguments.length>1&&(c=b),d=0;d<f;){var g;if(d in e){g=e[d];if(!a.call(c,g,d,e))return!1}d++}return!0}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;if(null===this)throw new TypeError(" this is null or not defined");var e=Object(this),f=e.length>>>0;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(arguments.length>1&&(c=b),d=0;d<f;){var g;d in e&&(g=e[d],a.call(c,g,d,e)),d++}}),Array.prototype.includes||(Array.prototype.includes=function(a){"use strict";if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var b=Object(this),c=parseInt(b.length,10)||0;if(0===c)return!1;var d,e=parseInt(arguments[1],10)||0;e>=0?d=e:(d=c+e,d<0&&(d=0));for(var f;d<c;){if(f=b[d],a===f||a!==a&&f!==f)return!0;d++}return!1}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Date.now||(Date.now=function(){return(new Date).getTime()}),Object.keys||(Object.keys=function(){"use strict";var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;g<d;g++)a.call(e,c[g])&&h.push(c[g]);return h}}()),String.prototype.includes||(String.prototype.includes=function(a,b){"use strict";return"number"!=typeof b&&(b=0),!(b+a.length>this.length)&&this.indexOf(a,b)!==-1}),String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return b=b||0,this.substr(b,a.length)===a}),function(){function a(a){this.message=a}var b=window.self;a.prototype=Error(),a.prototype.name="InvalidCharacterError",b.atob||(b.atob=function(b){var c=(b+"").replace(/[=]+$/,"");if(c.length%4===1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var d,e,f=0,g=0,h="";e=c.charAt(g++);~e&&(d=f%4?64*d+e:e,f++%4)?h+=String.fromCharCode(255&d>>(-2*f&6)):0)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e);return h})}(),function(a){a.adobeid=function(){"use strict";var a;return a="object"==typeof window.adobeid?window.adobeid:window.opener&&window.opener.adobeid?window.opener.adobeid:window.adobeid={}},a.adobeIMS=function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";function m(a){return a?f.local:f.session}function n(){return f.session}function o(){return!(!b.optimizations||!b.optimizations.fastEvents)}function p(){var d=this;this.adobeid=b,this._accessTokensInfos={},this._profile=null,this._is_already_attached_to_ui=!1,this._last_ui_update={_any_update_so_far:!1,_accessTokensInfos:{},_profile:null,update:function(){this._any_update_so_far=!0,this._accessTokensInfos=c.cloneObject(d._accessTokensInfos),this._profile=c.cloneObject(d._profile)},areThereUIUpdatesToPerformForAccessTokens:function(){return!this._any_update_so_far||!c.equals(this._accessTokensInfos,d._accessTokensInfos)},areThereUIUpdatesToPerformForProfile:function(){return!this._any_update_so_far||!c.equals(this._profile,d._profile)},areThereUIUpdatesToPerform:function(){return this.areThereUIUpdatesToPerformForProfile()||this.areThereUIUpdatesToPerformForAccessTokens()}},a.setGlobalErrorHandler(function(){d._onApiError.apply(d,arguments)})}function q(a,d){try{c.callIfFunction(b[a],b,d)}catch(b){this._onError(this.errors.jsException.setException(b,"adobeid."+a))}}function r(a){return!(!a||"ride_AdobeID_acct_disabled"!==a.error)}function s(b){return b.error===a.Errors.RATE_LIMITED}function t(a){return!a||!!(a.error||a.error_flag||a.error_description)}function u(a){a._invalidateTokens(Object.keys(a._accessTokensInfos),function(){a._clearCredentials({updateUI:!0}),a.signIn()})}function v(b,d,e){arguments.length<3&&(e=d,d=b.getAccessToken()),a.getProfile(d,function(a){b.setProfile(a),c.callIfFunction(e,b)},function(a){c.logErrorToConsoleInDebugMode("Failed to retrieve the profile "+a),s(a)?(w(a,b),c.callIfFunction(e,b)):r(a)?u(b):t(a)?(b._clearCredentials({updateUI:!0}),c.callIfFunction(e,b)):c.callIfFunction(e,b)})}function w(a,b){b._onError(b.errors.rateLimit.create(a.retryAfter,b.isSignedInUser()))}function x(a,b){J&&(J.closed||J.close(),J=null);var d=[];return Object.keys(b||{}).forEach(function(a){var c=b[a];c===!0?c="yes":c===!1?c="no":c+="",d.push(a+"="+c)}),J=c.openPopup(a,H,d.join(",")),J&&"function"==typeof J.focus&&J.focus(),J}function y(a,b){O.isRequired=a,O.url=b}function z(){return O}var A="adobeid_ims_access_token",B="/",C="adobeid_ims_profile",D="from_ims",E=D+"=true",F="rctx",G=b.popupPageName||"redirectims.html",H="_blank",I={sign_in:{width:500,height:630},sign_up:{width:500,height:800},sign_out:{width:320,height:240},jump:{width:500,height:800},any:{width:500,height:630}},J=null;if(window.adobeIMS)return c.logErrorToConsoleInDebugMode("adobeIMS already exists. Have you loaded the file twice?"),null;var K,L={PROFILE:"profile",ACCESS_TOKEN:"accesstoken",ACCESS_TOKEN_EXPIRED:"accesstokenexpired",READY:"ready",ERROR:"error"},M=new g.EventTarget,N=b.openidCompatible?"sub":"userId",O={isRequired:!1,url:null},P=null,Q=null,R={Events:L,addEventListener:function(a,b){M.addEventListener(a,b)},IMSAPIs:{},errors:{network:{name:"networkError",userMessage:"Network error"},fromApiCallRedirect:{name:"fromApiCallRedirectError",userMessage:"",setMessage:function(a){return this.userMessage=a,this}},avatarPicture:{name:"avatarPictureError",userMessage:"current scopes won't retrieve the user_id"},jsException:{name:"jsExceptionError",message:"",exception:null,setException:function(a,b){return this.exception=a,this.message=b||"",this}},rateLimit:{name:"rate_limit",retryAfter:null,isUserSignedIn:null,create:function(a,b){return{name:this.name,retryAfter:a,isUserSignedIn:b}}}},getUrlForApiCall:function(b,c,d){return 2===arguments.length&&(d=arguments[1],c=null),a.getApiUrlWithQuery(b,d,c)},makeApiCall:function(b,c,d,e){return 3===arguments.length&&(e=arguments[2],d=arguments[1],c=null),a.makeApiCall({api:b,apiVersion:c,params:d,forceJsonp:!0},e)},_onApiError:function(a){var b=c.cloneObject(this.errors.network);b.debug={url:a},this._onError(b)},getUserProfile:function(){return this._profile},getUserPictureURL:function(){return this._profile?this._profile[N]?a.getAvatarUrl(this._profile[N]):(this._onError(this.errors.avatarPicture),""):""},getAccessTokenInfo:function(a,b,c){var d=this.getAccessTokenSessionStorageKey(a,b,c),e=this._accessTokensInfos[d];return e?m(e.isReAuthentication).getItem(d)?e:(this._clearCredentials({access_token:e.access_token}),null):null},getAccessToken:function(a,b,c){var d=this.getAccessTokenInfo(a,b,c);return d?d.access_token:null},getAccessTokenSessionStorageKey:function(a,b,c){return[A,b||this.getClientID(),!!a,c||this.getScope()].join(B)},getKeyForAccessToken:function(a){for(var b in this._accessTokensInfos)if(a===this._accessTokensInfos[b].access_token)return b;return l.assert(!1,"unknown access_token for key: "+b),null},_isAccessTokenInfoUsable:function(a){return a&&"string"==typeof a.access_token&&"string"==typeof a.client_id&&this.isKnownClientID(a.client_id)&&"string"==typeof a.scope&&"boolean"==typeof a.isReAuthentication&&"number"==typeof a.expires_in&&"number"==typeof a.expiresAtMilliseconds&&Date.now()<a.expiresAtMilliseconds},loadFromStorage:function(){var a=this;this._accessTokensInfos={};var b=function(b){for(var c in b.keys?b.keys():b)if(c.startsWith(A))try{var d=JSON.parse(b.getItem(c));if(!a.isKnownClientID(d.client_id))continue;a._isAccessTokenInfoUsable(d)?a._accessTokensInfos[c]=d:(l.info("unusable access token info: "+b.getItem(c)),b.removeItem(c))}catch(a){b.removeItem(c)}};b(m(!1)),b(m(!0)),this._profile=JSON.parse(n().getItem(C))},hasTokenButItHasExpired:function(a,b,c){var d=this.getAccessTokenInfo(a,b,c);return d&&Date.now()>d.expiresAtMilliseconds?d:void 0},isSignedInUser:function(a,b,c){var d=this.getAccessTokenInfo(a,b,c);return d&&Date.now()<d.expiresAtMilliseconds?d:void 0},signIn:function(b,d){this.contextToBePassedOnRedirect=d;var e=c.applyExtraApiParameters({},b);e.redirect_uri=this._getRedirectUri(i.api.authorize,e),this.version&&(e.jslibver=this.version);var f=a.getAuthorizeUrl(e);this.isModal()&&this._callCallbacksToUpdateUI(),this._openWindow(f,"create_account"===e.idp_flow?I.sign_up:I.sign_in)},signInWithSocialProvider:function(b,d){if(b){var e=c.applyExtraApiParameters({},d,{idp_flow:"social.deep_link.web",provider_id:b});e.redirect_uri=this._getRedirectUri(i.api.authorize,e);this._openWindow(a.getAuthorizeUrl(e))}},reAuthenticate:function(a,b){this.signIn(c.applyExtraApiParameters({reauth:"check",puser:this._profile&&this._profile.email?this._profile.email:void 0,eu:this._profile&&this._profile.email?"true":void 0},a),b)},isReAuthentication:function(a){return a&&a.reauth},updateRedirectUriForReAuthentication:function(a,b){return"string"==typeof a&&this.isReAuthentication(b)?(a.includes("reauth=")||(a=a+"&reauth="+b.reauth),a):a},getContextFromRedirectForAccessToken:function(a){if(this.contextPassedFromRedirect&&this.contextPassedFromRedirect.access_token===a){var b=this.contextPassedFromRedirect.context;return this.contextPassedFromRedirect=null,b}return null},signUp:function(a,b){this.isModal()&&this._callCallbacksToUpdateUI(),this.signIn(c.applyExtraApiParameters({idp_flow:"create_account"},a),b)},_invalidateTokens:function(b,d){var e=this,f=b.length;f?b.forEach(function(b){a.logoutToken(e._accessTokensInfos[b].access_token,function(){--f,0===f&&c.callIfFunction(d)})}):c.callIfFunction(d)},signOut:function(b){function d(d){if(!d)return void e._clearCredentials({updateUI:!0});var f=c.applyExtraApiParameters(e.getAdobeIdApiParametersForApi(i.api.logout),b);e.isModal()&&f.redirect_uri&&e.switchToRedirectMode();var g=a.getLogoutUrl(c.applyExtraApiParameters({access_token:d.access_token,redirect_uri:e._getRedirectUri(e.config.api.logout,b)},f));e._clearCredentials({updateUI:!0}),e._openWindow(g,I.sign_out)}var e=this,f=Object.keys(this._accessTokensInfos);if(f.length){var g=this._accessTokensInfos[f.pop()];this._invalidateTokens(f,function(){d(g)})}else e._clearCredentials({updateUI:!0})},switchToRedirectMode:function(){this.adobeid.uses_modal_mode=!1,this.adobeid.uses_redirect_mode=!0},switchToModalMode:function(){this.adobeid.uses_modal_mode=!0,this.adobeid.uses_redirect_mode=!1},_clearCredentials:function(a){var b;if(a&&a.access_token)b=this.getKeyForAccessToken(a.access_token),m(!1).removeItem(b),m(!0).removeItem(b),c.removeKeyFromObject(this._accessTokensInfos,b);else{for(b in this._accessTokensInfos)if(b.startsWith(A)){var d=this._accessTokensInfos[b];m(d.isReAuthentication).removeItem(b)}this._accessTokensInfos={},n().removeItem(C),this._profile=null,this._clearTimerTestSSOCookieWillExpire()}a&&a.updateUI===!0&&this._callCallbacksToUpdateUI(a)},_callCallbacksToUpdateUI:function(a){if(this._last_ui_update.areThereUIUpdatesToPerform()){var b=c.cloneObject(this._last_ui_update);if(this._last_ui_update.update(),b.areThereUIUpdatesToPerformForProfile()&&M.dispatchEvent(L.PROFILE,{profile:this._profile}),b.areThereUIUpdatesToPerformForAccessTokens())if(a&&a.access_token){var d=this._accessTokensInfos[this.getKeyForAccessToken(a.access_token)];M.dispatchEvent(L.ACCESS_TOKEN,{accessTokenInfo:d})}else for(var e in this._accessTokensInfos)c.equals(this._accessTokensInfos[e],b._accessTokensInfos[e])||M.dispatchEvent(L.ACCESS_TOKEN,{accessTokenInfo:this._accessTokensInfos[e]})}},_onReady:function(){if(!this.onReadyAlreadyCalled){this.onReadyAlreadyCalled=!0,this._callCallbacksToUpdateUI();var a={};a.userActionInfo=z(),a.isUserSignedIn=!a.userActionInfo.isRequired&&!!this.isSignedInUser(),M.dispatchEvent(L.READY,{signInState:a})}},isReady:function(){return!!this.onReadyAlreadyCalled},_onError:function(a){M.dispatchEvent(L.ERROR,{error:a}),"function"!=typeof this.adobeid.onError&&("string"==typeof a.userMessage?l.info(a.userMessage):l.error("unhandled javascript error: "+JSON.stringify(a)),a.debug&&l.info(JSON.stringify(a.debug)))},_initialize:function(){var a=this;M.addEventListener(L.PROFILE,function(b){q.call(a,"onProfile",[b.data.profile])}),M.addEventListener(L.ACCESS_TOKEN,function(b){q.call(a,"onAccessToken",[b.data.accessTokenInfo.access_token,b.data.accessTokenInfo])}),M.addEventListener(L.READY,function(b){q.call(a,"onReady",[b.data.signInState])}),M.addEventListener(L.ERROR,function(a){c.callIfFunction(b.onError,b,[a.data.error])});var d=function(){a.isMandatorySignIn()&&!a.isSignedInUser()&&a.signIn()},e=function(){var b=c.cloneObject(a._accessTokensInfos||{}),e=function(){if(d(),a._callCallbacksToUpdateUI(),o()&&!a.isSignedInUser())for(var c in b)b.hasOwnProperty(c)&&b[c]&&M.dispatchEvent(L.ACCESS_TOKEN_EXPIRED,{accessTokenInfo:b[c]});a._onReady()};if(a.isSingleLogOutEnabled()||!a.isSignedInUser())a.signInBasedOnSingleSignOnSSO(function(b){"no_cors"===b&&a.isSignedInUser()?v(a,e):c.callIfFunction(e,a)});else{var f=a.getAccessToken();c.removeKeyFromObject(b,a.getKeyForAccessToken(f)),a.testAccessTokenIsStillValid(f,e)}};o()&&(M.addEventListener(L.ACCESS_TOKEN_EXPIRED,function(b){q.call(a,"onAccessTokenHasExpired",[b.data.accessTokenInfo.access_token,b.data.accessTokenInfo])}),this.loadFromStorage(),c.isEmptyObject(this._profile)||this._callCallbacksToUpdateUI()),this._signInWhenRedirectedBackFromIMS(function(){a._isFinalRedirectPageInModalMode()?window.opener&&(window.opener.adobeIMS._importDataFromModalWindow(a),c.closeWindow()):(a.loadFromStorage(),a.hasJustReturnedFromAuthorize?this.isSignedInUser()?a._testAccessTokensAreStillValid():a.signInBasedOnSingleSignOnSSO(function(){a._testAccessTokensAreStillValid()}):a.isSignedInUser(!0)?a.testAccessTokenIsStillValid(a.getAccessToken(!0),e):e())})},_signInWhenRedirectedBackFromIMS:function(a){var b=this,e=c.getHashFromURL().substring(1);e=e.replace("%23access_token","#access_token").replace("%23expires_in","#expires_in").replace("%23error","#error").replace("?error","#error").replace("#","&");var f=c.getQueryParamsAsMap(e),g=f.access_token,h=f.api;h===i.api.authorize.name&&l.assert(g,"the authorize api must return an access_token");var j=!!f.reauth,m=f.client_id||this.getClientID(),n=f.scope||this.getScope(),o=f.expires_in,p=f.error,q=f[F];try{K=JSON.parse(f.state)}catch(a){K=f.state}return this.contextPassedFromRedirect=q?{context:JSON.parse(q),access_token:g}:null,g&&o&&k.isFromIms(g)||"true"===f[D]&&h===i.api.logout.name||"true"===f[D]&&p?(d.setHash(f.old_hash||""),void(g?(this.hasJustReturnedFromAuthorize=!0,this._setAccessTokenAndGetProfile(g,j,m,n,o,null,function(){b.validateSSOCookieLifetime(g,a)})):(this._accessTokensInfos={},this._profile=null,p&&this._onError(this.errors.fromApiCallRedirect.setMessage(p)),a.call(this)))):void a.call(this)},getState:function(){return K||null},_setAccessTokenAndGetProfile:function(a,b,d,e,f,g,h){var i=this;f=+f;var j=g&&g[N];if(this._removeAccessTokensIfDifferentUserId(j),c.isEmptyObject(this._accessTokensInfos)&&this.loadFromStorage(),!this.shouldAcceptTheToken(a,d,e,j,!0,b))return void c.callIfFunction(h,i);var k=this.getAccessTokenSessionStorageKey(b,d,e),l=Date.now();this._accessTokensInfos[k]={access_token:a,client_id:d,user_id:j,scope:e,expires_in:f,createdAtMilliseconds:l,expiresAtMilliseconds:l+f,isReAuthentication:b},m(b).setItem(k,JSON.stringify(this._accessTokensInfos[k])),this.onReadyAlreadyCalled&&this._callCallbacksToUpdateUI(),g?c.callIfFunction(h,i):v(i,a,h)},setProfile:function(a,b){a&&!a.error_flag&&(this._profile=a,a?(n().setItem(C,JSON.stringify(this._profile)),this._removeAccessTokensIfDifferentUserId(a[N])):n().removeItem(C),!b&&this.onReadyAlreadyCalled&&this._callCallbacksToUpdateUI())},_removeAccessTokensIfDifferentUserId:function(a){if(a)for(var b in this._accessTokensInfos){var c=this._accessTokensInfos[b];c.user_id&&c.user_id!==a&&(this._clearCredentials({access_token:c.access_token,updateUI:!1}),l.info("Removed token because of different user_id (isReAuthentication="+c.isReAuthentication+")"))}},_signInBasedOnStoredCredentials:function(a){this.loadFromStorage(),c.isEmptyObject(this._accessTokensInfos)?(this._clearCredentials(),c.callIfFunction(a,this)):this.hasJustReturnedFromAuthorize?(this.hasJustReturnedFromAuthorize=!1,c.callIfFunction(a)):this.testSingleLogOutSLO(a)},signInBasedOnSingleSignOnSSO:function(a){var b=this;this.acquireAccessToken(a,function(d){d=d||{},s(d)?(w(d,b),c.callIfFunction(a,b)):d.jump?(l.info("jumping to "+d.jump),y(!0,d.jump),b.isModal()?b._clearCredentials():b._openWindow(d.jump,I.jump)):"ride_AdobeID_acct_evs"===d.error?(b._clearCredentials(),y(!0,null),b.isModal()||b.signIn()):"ride_AdobeID_acct_disabled"===d.error?b._invalidateTokens(Object.keys(b._accessTokensInfos),function(){b._clearCredentials({updateUI:!0}),y(!0,null),b.isModal()||b.signIn()}):"no_cors"===d.error?c.callIfFunction(a,b,["no_cors"]):(b._clearCredentials({updateUI:!0}),b.hasJustSingleLoggedOutSLO=!0,c.callIfFunction(a,b))})},acquireAccessToken:function(b,d){var e=this;e.autoRefreshTimeout&&window.clearTimeout(e.autoRefreshTimeout);var f={redirect_uri:this._getRedirectUri(a.apiEndpoints.check),client_id:this.getClientID(a.apiEndpoints.check),scope:this.getScope(a.apiEndpoints.check)};a.checkToken(f,function(a){var d=c.cloneObject(a);c.removeKeyFromObject(d,"access_token"),c.removeKeyFromObject(d,"expires_in"),c.removeKeyFromObject(d,"token_type"),e.setProfile(d),e._setAccessTokenAndGetProfile(a.access_token,!1,f.client_id,f.scope,a.expires_in,d,b),e.autoRefreshAccessToken()},d)},autoRefreshMaxDate:null,autoRefreshTimeout:null,autoRefreshAccessToken:function(){var a=this;this.autoRefreshMaxDate||(this.autoRefreshMaxDate=Date.now()+108e5),"LightroomMobileWeb1"===this.getClientID()&&this.autoRefreshMaxDate>Date.now()&&(this.autoRefreshTimeout=window.setTimeout(function(){a.acquireAccessToken()},84e4))},testSingleLogOutSLO:function(b){if(!this.isSingleLogOutEnabled())return void c.callIfFunction(b,this);var d=this;a.checkStatus(function(a){a.sso===!1&&a.remember_me===!1?(d._clearCredentials({updateUI:!0}),d.hasJustSingleLoggedOutSLO=!0,c.callIfFunction(b,d)):d.signInBasedOnSingleSignOnSSO(b)})},validateSSOCookieLifetime:function(a,b){c.callIfFunction(b,this)},_clearTimerTestSSOCookieWillExpire:function(){this._timerTestSSOCookieWillExpire&&(clearInterval(this._timerTestSSOCookieWillExpire),this._timerTestSSOCookieWillExpire=null)},shouldAcceptTheToken:function(a,b,c,d,e,f){var g=!0;return[{shouldReject:e===!1,shouldLogToErrorConsole:!1,message:"access_token is invalid."},{shouldReject:e===!0&&d&&this._profile&&d!==this._profile[N],shouldLogToErrorConsole:!1,message:"access_token was from another userId (isReAuthentication=#0).".replace("#0",f)},{shouldReject:e===!0&&!this.isKnownClientID(b),shouldLogToErrorConsole:!0,message:"the #0 client_id associated with the access token is not for a known client_id (#1).".replace("#0",b).replace("#1",Object.keys?Object.keys(i.api.authorize.endpoint).join(","):this.getClientID())},{shouldReject:e===!0&&!this.matchesTheRequiredScope(c),shouldLogToErrorConsole:!0,message:"the (#0) scope associated with the access token doesn't match the required scope (#1).".replace("#0",c).replace("#1",this.getScope())},{shouldReject:!a,shouldLogToErrorConsole:!0,message:"no access token."}].forEach(function(a){a.shouldReject&&(g=!1,(a.shouldLogToErrorConsole?l.error:l.info)("shouldAcceptTheToken: "+a.message))}),g},testAccessTokenIsStillValid:function(b,d){var e=this,f=this._accessTokensInfos[this.getKeyForAccessToken(b)];l.assert(f,"we need token information to validate it");var g=function(a){if(a.token&&e.shouldAcceptTheToken(b,a.token.client_id,a.token.scope,a.token.user_id,a.valid,f.isReAuthentication))d();else{l.info("validate/token: access_token is invalid. removing."),e._clearCredentials({updateUI:e.onReadyAlreadyCalled,access_token:b});try{a.token&&e.isKnownClientID(a.token.client_id)&&e.matchesTheRequiredScope(a.token.scope)&&c.callIfFunction(e.adobeid.onAccessTokenHasExpired,e.adobeid,[b,f])}catch(a){e._onError(e.errors.jsException.setException(a,"adobeid.onAccessTokenHasExpired"))}f.isReAuthentication?d():e.signInBasedOnSingleSignOnSSO(function(){!e.isSignedInUser()&&e.isMandatorySignIn()&&e.signIn(),d()})}};f&&this.isKnownClientID(f.client_id)?a.validateToken(f,g):g({valid:!1})},_testAccessTokensAreStillValid:function(){var a,b=0;for(a in this._accessTokensInfos)++b;var c=this,d=function(){--b,0===b&&c._onReady()};if(b>0)for(a in this._accessTokensInfos)c.testAccessTokenIsStillValid(this._accessTokensInfos[a].access_token,d);else c._onReady()},_importDataFromModalWindow:function(a){if(c.isEmptyObject(a._accessTokensInfos))this._clearCredentials({updateUI:!0});else{this.contextPassedFromRedirect=c.cloneObject(a.contextPassedFromRedirect),K=a.getState(),c.equals(a._profile,this._profile)||c.isEmptyObject(a._profile)||this.setProfile(c.cloneObject(a._profile),!0);for(var b in a._accessTokensInfos)if(!c.equals(a._accessTokensInfos[b],this._accessTokensInfos[b])){var d=c.cloneObject(a._accessTokensInfos[b]);this._accessTokensInfos[b]=d,m(d.isReAuthentication).setItem(b,JSON.stringify(d)),this.validateSSOCookieLifetime(this._accessTokensInfos[b].access_token)}this._callCallbacksToUpdateUI(),a.isSignedInUser(!0)&&!this.isSignedInUser(!1)&&this.signInBasedOnSingleSignOnSSO()}},_openWindow:function(a,b){if(this.isModal()){var c=Math.min(b&&b.width||I.any.width,screen.availWidth),e=Math.min(b&&b.height||I.any.height,screen.availHeight);x(a,{width:c,height:e,left:parseInt((screen.availLeft?screen.availLeft:0)+Math.max(0,screen.availWidth-c)/2),top:parseInt((screen.availTop?screen.availTop:0)+Math.max(0,screen.availHeight-e)/2),toolbar:!1,menubar:!1,scrollbars:!0,resizable:!0})||this._onError({error:"popupBlocked",popupUrl:a})}else d.setHref(a,!this.isMandatorySignIn());this.contextToBePassedOnRedirect=null},isModal:function(){return!!this._isFinalRedirectPageInModalMode()||(this.adobeid.uses_modal_mode===!0&&this.adobeid.uses_redirect_mode===!0?(c.logErrorToConsoleInDebugMode("redirect mode and modal mode both enabled"),!0):"boolean"==typeof this.adobeid.uses_modal_mode?this.adobeid.uses_modal_mode:this.adobeid.uses_redirect_mode===!1)},_isFinalRedirectPageInModalMode:function(){return d.getHref().includes(G)&&window.opener&&window.opener!==window},getAdobeIdApiParametersForApi:function(b){return a.getApiParameters(b)},getLocale:function(){return a.getLocale()},listSocialProviders:function(b,c){return a.listSocialProviders(b,c)},getReleaseFlags:function(b,d){return null!==Q?void c.callIfFunction(b,null,[Q,P]):void a.getReleaseFlags(this.getAccessToken(),function(a,d){P=d||null,Q=a||null,c.callIfFunction(b,null,[a,d])},d)},isReleaseFlagActive:function(a){return!!P&&"1"===P[a]},sunbreakHack:function(a){return a.replace(i.sunbreakScope,i.sunbreakScopeExpanded)},matchesTheRequiredScope:function(a){var b=c.String_hasContent(a);if(!b)return l.assert(b,"scopeToValidate must be a non empty string for matchesTheRequiredScope"),!1;var d=this.sunbreakHack(c.String_withoutWhitespaces(a)).split(",");return this.sunbreakHack(this.getScope()).split(",").every(function(a){return d.includes(a)})},getScope:function(b,c){return a.getScope(b,c)},isKnownClientID:function(a){return a in i.api.authorize.endpoint},getClientID:function(b,c){return a.getClientId(b,c)},isMandatorySignIn:function(){return this.adobeid.is_mandatory_sign_in===!0&&this.isModal()?(c.logErrorToConsoleInDebugMode("is_mandatory_sign_in can be enabled only in redirect mode"),!1):"boolean"==typeof this.adobeid.is_mandatory_sign_in&&this.adobeid.is_mandatory_sign_in},isSingleLogOutEnabled:function(){return"boolean"==typeof this.adobeid.uses_single_log_out?this.adobeid.uses_single_log_out:i.sloEnabled},isRefreshSSOCookiesEnabled:function(){return"boolean"==typeof this.adobeid.uses_refresh_sso_cookies?this.adobeid.uses_refresh_sso_cookies:i.refreshSsoCookiesEnabled},_getRedirectUri:function(a,b){var e="",f=c.applyExtraApiParameters(this.getAdobeIdApiParametersForApi(a),b);if(this.isModal())e=c.getBasePath(d.getHref())+G+"#"+E;else{e=f.redirect_uri?f.redirect_uri:this.adobeid.redirect_uri?this.adobeid.redirect_uri:d.getHref(),l.assert(!e.includes(D),"the redirect_uri mustn't already contain #from_ims");var g=c.getHashFromURL(e),h=e;g&&(h=h.substring(0,h.length-g.length)),e=h+"#"+E+"&old_hash="+encodeURIComponent(g)}return f.client_id&&(e+="&client_id="+encodeURIComponent(f.client_id)),f.scope&&(e+="&scope="+encodeURIComponent(f.scope)),a&&a.name&&(e+="&api="+encodeURIComponent(a.name)),e=this.updateRedirectUriForReAuthentication(e,f),c.isEmptyObject(this.contextToBePassedOnRedirect)||(e+="&"+F+"="+encodeURIComponent(JSON.stringify(this.contextToBePassedOnRedirect))),e},_ajaxGet:function(a,b,d){var f=this,g=function(d,e){if(d){var g=c.cloneObject(f.errors.network);g.debug={url:a},f._onError(g)}else b.call(f,e)};"jsonp"!==d&&e.corsSupported?e.corsGet(a,null,null,g):e.jsonp(a,{},g)},_initOnDependencyLoad:function(){var a=this;h.onLoad(function(){a._initialize()})}};return c.isDebugMode&&j.trackObject(R),p.call(R),R},a.alertMessages=function(){"use strict";return{dev:{adobeid:"Please declare the adobeid variable before loading the Javascript file for the IMS SDK",both_modal_and_redirect:"Error: you can't have both adobeid.uses_modal_mode and adobeid.uses_redirect_mode set to true.",client_id_missing:"Error: the ClientID is missing.",api_calls_only_https:"Error: the API calls must be made only through HTTPS.",mandatory_sign_in_only_in_redirect:"is_mandatory_sign_in only works in full web redirect mode.",scope_doesnt_ask_for_userId_from_profile:"The provided scopes don't ask for the userId from the user's profile",client_id_missing_from_query:'Please add the "#client_id#" to the comma separated list that is the client_id query parameter',load_the_sdk_only_once:"Please load the Javascript SDK only once."},user:{allow_pop_up_window:"The browser's pop-up blocker has stopped a window from opening. To be able to sign-in, please use the browser's UI (in the address bar) to allow the window to be opened. Thank you.",adobeid:"Please declare the adobeid variable before loading the Javascript file for the IMS SDK",api_calls_only_https:"Error: the API calls must be made only through HTTPS.",both_modal_and_redirect:"Error: you can't have both adobeid.uses_modal_mode and adobeid.uses_redirect_mode set to true.",client_id_missing:"Error: the ClientID is missing.",client_id_missing_from_query:'Please add the "#client_id#" to the comma separated list that is the client_id query parameter',load_the_sdk_only_once:"Please load the Javascript SDK only once.",mandatory_sign_in_only_in_redirect:"is_mandatory_sign_in only works in full web redirect mode.",scope_doesnt_ask_for_userId_from_profile:"The provided scopes don't ask for the userId from the user's profile",network_error:"A network error has occurred. Are you connected to the internet?"}}},a.analytics=function(a){"use strict";var b="jslMethods",c=[],d=[],e={},f=function(a){var e=a;c.includes(a)&&(e=c.indexOf(a),d.includes(e)||(d.push(e),d.sort(function(a,b){return a-b}),i().setItem(b,d.join("+"))))},g=function(){return d},h=function(a){d=j();for(var b in a)a.hasOwnProperty(b)&&"function"==typeof a[b]&&(c.push(b),e[b]=a[b],function(){var c=b;a[c]=function(){return f(c),e[c].apply(a,arguments)}}())},i=function(){return a.session},j=function(){var a=i().getItem(b);return a=a?a.split("+").map(function(a){return parseInt(a,10)}):[]};return{getMethods:g,trackObject:h}},a.base32=function(){"use strict";function a(a,b,c){var d=b-c.length;return d>0&&(c=Array(d+1).join(a)+c),c}function b(b){return a("0",5,b.toString(2))}function c(a){if(a.length%8!==0)throw Error("Data length is not a multiple of 8");a.forEach(function(a){if(!(a in g))throw Error("Unknown encoded character "+a)});var b=!1;a.forEach(function(a){if("="!==a&&b)throw Error("Found padding char in the middle of the string");"="===a&&(b=!0)})}function d(a){for(var b=a.length-1,c=0;"="===a[b];)++c,--b;return c}function e(a){if("string"!=typeof a)throw Error("Data is not a string");var e=a.toLowerCase().split("");c(e);var f=d(e),h=[];e.forEach(function(a){h.push(b(g[a]))});var i=h.join("");return f>0&&(i=i.slice(0,-5*f)),i.length%8!==0&&(i=i.slice(0,-1*(i.length%8))),i}var f="abcdefghijklmnopqrstuvwxyz234567".split(""),g={"=":0};return f.forEach(function(a,b){g[a]=b}),{decodeToBitstring:e}},a.config=function(b,c,d,e){"use strict";function f(){var a=d.getThisScriptSrc(),b=/\bclient_id=([^&]+)\b/.exec(a);return b?b[1].split(","):[]}function g(){var a=d.getThisScriptSrc(),b=/\blocale=([^&]+)\b/.exec(a);return b?b[1]:""}function h(){return c.client_id?Array.isArray(c.client_id)?c.client_id[0]:c.client_id:(e.info("Missing window.adobeid.client_id. Falling back to client_id from url. Please add client_id to window.adobeid"),f()[0])}function i(){return c.locale?c.locale:(e.info("Missing window.adobeid.locale. Falling back to locale from url. Please add locale to window.adobeid"),g())}var j=f();return j&&0!==j.length||(j=c.client_id),{sloEnabled:!0,refreshSsoCookiesEnabled:!1,sunbreakScope:"acct_mgmt_webui",sunbreakScopeExpanded:"acct_mgmt_api,gnav,update_profile.address.mail_to,update_profile.dob,update_profile.email,update_profile.first_name,update_profile.industry,update_profile.job_function,update_profile.job_title,update_profile.last_name,update_profile.mrktPerm,update_profile.password,update_profile.phoneNumber,update_profile.phonetic_name,update_profile.preferred_languages,update_profile.screen_name,update_profile.secondary_email",locale:i(),client_id:h(),api:a.config.$$api(b,j,c)}},a.config.$$api=function(b,c,d){"use strict";var e=a.endpoints(b,d);Array.isArray(c)||(c=[c]);var f={version:{v1:"v1"}};for(var g in e)if(e.hasOwnProperty(g)){var h=e[g],i={name:h.name,endpoint:{}};f[g]=i;for(var j=0,k=c.length;j<k;++j){var l=c[j];i.endpoint[l]=h.endpoint}}return f},a.endpoints=function(a,b){"use strict";if(b=b||{},b.uses_slo||(b.uses_slo=!1),!a||!a.login||!a.services)throw Error("Hosts are not defined or incomplete: "+JSON.stringify(a));return{authorize:{name:"authorize",endpoint:a.login+"/authorize/v1"},avatar:{name:"avatar/download",endpoint:a.login+"/avatar/download"},check:{name:"check/token",endpoint:(b.uses_slo?a.login:a.services)+"/check/${ version }/token"},check_status:{name:"check/status",endpoint:(b.uses_slo?a.login:a.services)+"/check/v1/status"},logout:{name:"logout",endpoint:(b.uses_slo?a.login:a.services)+"/logout/v1"},logout_token:{name:"logout_token",endpoint:(b.uses_slo?a.login:a.services)+"/logout/v1/token"},profile:{name:"profile",endpoint:a.login+"/profile/v1"},validate_token:{name:"validate_token",endpoint:a.login+"/validate_token/v1"},userinfo:{name:"userinfo",endpoint:a.login+"/userinfo/v1"},fg_value:{name:"fg_value",endpoint:a.services+"/fg/value/v1"},social_providers:{name:"social_providers",endpoint:a.services+"/social/v1/providers"}}},a.events=function(a){"use strict";return{EventTarget:function(){var b={};this.addEventListener=function(a,c){var d=b[a]||[];b[a]=d,d.push(c)},this.dispatchEvent=function(c,d){var e=b[c];if(e)for(var f={type:c,data:d},g=0,h=e.length;g<h;++g)a.callIfFunction(e[g],null,[f])}}}},a.http=function(a,b,c,d){"use strict";var e=function(a){var b="",c=!0;for(var d in a)if(a.hasOwnProperty(d)&&void 0!==a[d]){var e,f=encodeURIComponent(d),g=a[d];e=null===g?"null":"object"==typeof g?encodeURIComponent(JSON.stringify(g)):encodeURIComponent(g),b+=(c?"":"&")+f+"="+e,c=!1}return b},f=function(a,b){if(a){var c=e(a);return c&&(c=b&&b.indexOf("?")!==-1?"&"+c:"?"+c),c}return""},g=function(d){if(d+=f(b,d),a.isDebugMode){var e=c.getMethods();e.length&&(d+="&jslMethods="+e.join("+"))}return d;
},h="_adobeIMSJSONPCallbacks",i=function(b,c,e){c=c||{};var i=window[h];i||(i=window[h]={});var j="_"+a.createRandomString();c.callback="window."+h+"."+j,b+=f(c,b),b=g(b);var k=document.createElement("script");k.src=b,k.async=!0,k.type="text/javascript";var l=a.getDocumentHead();i[j]=function(b){a.isDebugMode&&d.info("api call response: "+JSON.stringify(b)),e(!1,b),a.removeKeyFromObject(i,j)};var m=function(){l.removeChild(k)};a.addEventListener(k,"load",m),a.addEventListener(k,"error",function(){e(!0,null),m()}),l.appendChild(k)},j={POST:"POST",GET:"GET"},k={JSON:"application/json",URI:"application/x-www-form-urlencoded"},l=function(){return!!XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}(),m=function(a,b,c,d,e,f){var h=new XMLHttpRequest;if(b=g(b),h.onreadystatechange=function(){h.readyState===h.DONE&&f(h.status,h.responseText,h)},h.open(a.toUpperCase(),b,!0),e)for(var i in e)e.hasOwnProperty(i)&&h.setRequestHeader(i,e[i]);h.withCredentials=d,h.send(c)},n=function(a,b,c,d){a+=f(c,a),m(j.GET,a,null,!0,b,d)},o=function(a,b,c,d,f){if(b=b||{},c){switch(d){case k.JSON:c=JSON.stringify(c);break;case k.URI:c=e(c);break;default:throw Error("Unknown encoding "+d)}b["Content-Type"]=d}m(j.POST,a,c,!0,b,f)};return{buildQueryString:f,jsonp:i,corsGet:n,corsPost:o,cors:function(a,b,c,d,e,f){switch(e=e||k.URI,a.toUpperCase()){case j.GET:n(b,c,d,f);break;case j.POST:o(b,c,d,e,f);break;default:throw Error("Unknown HTTP method "+a)}},corsSupported:l,Method:j,DataEncoding:k}},a.imsApis=function(a,b,c,d,e,f,g,h){"use strict";function i(a){F=a}function j(){"function"==typeof F&&F.apply(null,arguments)}function k(a){if(!(a&&a.name&&c.api_parameters))return{};for(var b in c.api_parameters)if(a.name.includes(b))return c.api_parameters[b];return{}}function l(a,b){if(b&&b.client_id)return b.client_id;var d=k(a);return d&&d.client_id?d.client_id:c.client_id?Array.isArray(c.client_id)?c.client_id[0]:c.client_id:f}function m(){return c.locale||g}function n(a,c,d){return 2!==arguments.length&&d||(d={}),d.client_id||(d.client_id=l()),b.applyExtraApiParameters(d,k(a),c)}function o(a,d){var e="AdobeID,openid";if(d&&d.scope)e=d.scope;else{var f=k(a);f&&f.scope?e=f.scope:c.scope&&(e=c.scope)}return b.String_withoutWhitespaces(e)}function p(a,b,c){c||(c=l(a));var d=a.endpoint[c];return d?(d.includes("${ version }")?d=d.replace("${ version }",b||"v1"):b&&(d+="/"+b),d):(h.info("No url found for api "+a.name+" for client "+c),"")}function q(b,c,d,e){!e&&c&&(e=c.client_id);var f=p(b,d,e);return f?f+a.buildQueryString(c,f):""}function r(){var b=!0;return c.optimizations&&"useCORS"in c.optimizations&&(b=!!c.optimizations.useCORS),a.corsSupported&&b}function s(c,d,e){var f=b.cloneObject(c.params)||{};f.client_id||(f.client_id=l(c.api));var g=p(c.api,c.apiVersion,f.client_id),h=c.method||a.Method.GET,i={};c.bearerToken&&(i[G.AUTHORIZATION]="Bearer "+c.bearerToken),i[G.X_IMS_CLIENT_ID]=f.client_id,a.cors(h,g,i,f,a.DataEncoding.URI,function(a,b,c){429===a?e({error:H.RATE_LIMITED,retryAfter:window.parseInt(c.getResponseHeader(G.RETRY_AFTER),10)}):b?(b=JSON.parse(b),b.error_flag||b.error?e(b):d(b)):e(null)})}function t(c,d,e){var f=b.cloneObject(c.params),g=p(c.api,c.apiVersion,f.client_id);c.bearerToken&&(f.bearer_token=c.bearerToken),a.jsonp(g,f,function(a,b){a||b.error_flag||b.error?e(b):d(b)})}function u(a,b,c){if(!a)throw Error("No config object provided");if(!a.api)throw Error("No `config.api` provided");c=c||j,r()?s(a,b,c):t(a,b,c)}function v(b,c,e){u({api:d.validate_token,params:n(d.validate_token,{token:b.access_token,client_id:b.client_id,typeof:"access_token"}),method:a.Method.POST},c,e)}function w(b,c,e){var f=n(d.logout_token,{access_token:b});e=e||j;var g=function(a){a&&a.error?e(a):c(a)};u({api:d.logout_token,method:a.Method.POST,params:f},g,g)}function x(a,b,e){var f=n(d.profile);u({api:c.openidCompatible?d.userinfo:d.profile,bearerToken:a,params:f},b,e)}function y(a,b){u({api:d.check_status,params:n(d.check_status)},a,b)}function z(b,c,e){b=n(d.check,b,{scope:o(),locale:m()});var f=function(a){a.jump?e(a):c(a)};r()?u({api:d.check,apiVersion:"v4",method:a.Method.POST,params:b},f,e):e({error:H.NO_CORS})}function A(a){return p(d.avatar)+"/"+a}function B(a){return a=n(d.authorize,a,{response_type:"token",client_id:l(),scope:o(),locale:m()}),q(d.authorize,a)}function C(a){return a=n(d.logout,a,{locale:m()}),q(d.logout,a)}function D(a,c,f){u({api:d.fg_value,params:n(d.fg_value,{client_id:l(d.fg_value)}),bearerToken:a},function(a){a&&""!==a?c(a,b.bitstringToLSB(e.decodeToBitstring(a.releaseFlags))):b.callIfFunction(f,null,[null])},f)}function E(a,b){u({api:d.social_providers,params:n(d.social_providers,{client_id:l()})},function(b){var c=[];Array.isArray(b)&&b.forEach(function(a){c.push(a.providerName)}),a(c)},b)}var F,G={AUTHORIZATION:"Authorization",X_IMS_CLIENT_ID:"X-IMS-ClientId",RETRY_AFTER:"Retry-after"},H={NO_CORS:"no_cors",RATE_LIMITED:"rate_limited"};return{getApiUrlWithQuery:q,getApiUrl:p,makeApiCall:u,validateToken:v,checkStatus:y,checkToken:z,getProfile:x,logoutToken:w,getReleaseFlags:D,getAvatarUrl:A,getAuthorizeUrl:B,getLogoutUrl:C,listSocialProviders:E,apiEndpoints:d,getApiParameters:k,getClientId:l,getLocale:m,getScope:o,setGlobalErrorHandler:i,Errors:H}},a.location=function(){"use strict";function a(){return window.location.href}function b(a,b){b?window.location.href=a:window.location.replace(a)}function c(){return window.location.hash}function d(a){window.location.hash=a}return{getHref:a,setHref:b,getHash:c,setHash:d}},a.log=function(a){"use strict";var b=a,c=function(a,c){window.adobeid&&!b.debug||!window.console||"function"!=typeof window.console.log};return{assert:function(){c("assert",arguments)},error:function(){c("error",arguments)},info:function(){c("info",arguments)}}},a.optimizations=function(b,c){"use strict";if(b=b||{},b.enable!==!1)for(var d in a.optimizations)a.optimizations.hasOwnProperty(d)&&"function"==typeof a.optimizations[d]&&a.optimizations[d].call(null,b,c)},a.optimizations.$$prefetchSuSi=function(a,b){"use strict";if(a.prefetchSuSi!==!1){var c=function(){if(!b.isSignedInUser()){var a=b.getUrlForApiCall(b.config.api.authorize,{client_id:b.getClientID()}),c=/^(https?:\/\/.+?)\//.exec(a)[1],d=c+"/favicon.ico?cache_bust="+Math.random().toString(16).slice(2),e=document.createElement("link");e.setAttribute("rel","prefetch"),e.setAttribute("href",d),document.getElementsByTagName("head")[0].appendChild(e)}};b.isReady()?c():b.addEventListener(b.Events.READY,c)}},a.storage=function(b,c){"use strict";function d(d){if(a.storage.$$isPolyfillNeeded(d,b,c)){c.info("Polyfilled "+d+". All values are stored in Memory.");return new(a.storage.$$polyfill(b))}return window[d]}return{session:d("sessionStorage"),local:d("localStorage")}},a.storage.$$isPolyfillNeeded=function(a,b,c){"use strict";try{var d=window[a]}catch(b){return c.info(a+" disabled"),!0}if(null===d||void 0===d)return!0;try{return d.setItem("isStoragePolyfillNeeded",!0),"true"!==d.getItem("isStoragePolyfillNeeded")||(d.removeItem("isStoragePolyfillNeeded"),!1)}catch(a){return!0}},a.storage.$$polyfill=function(a){"use strict";return function(){var b={};return{length:0,clear:function(){b={},this.length=0},getItem:function(a){var c=b[a];return void 0===c?null:c},keys:function(){return b},removeItem:function(c){b.hasOwnProperty(c)&&(a.removeKeyFromObject(b,c),--this.length)},setItem:function(a,c){b.hasOwnProperty(a)||++this.length,b[a]=c+""}}}},a.susiButtons=function(a,b){"use strict";function c(a,c,d){var f=document.querySelectorAll(e.replace("%action%",a)),g=function(){c.call(d)};NodeList.prototype.forEach||(f=Array.prototype.slice.call(f)),f.forEach(function(a){b.addEventListener(a,"click",g)})}function d(){var d=function(){f||(f=!0,c("signin",a.signIn,a),c("signup",a.signUp,a),c("signout",a.signOut,a),c("reauthenticate",a.reAuthenticate,a))};"complete"===window.document.readyState||"loaded"===window.document.readyState?d():(b.addEventListener(window.document,"DOMContentLoaded",d),b.addEventListener(window,"load",d))}var e='[data-adobeid-action="%action%"]',f=!1;return{attachListeners:d}},a.token=function(){"use strict";return{isFromIms:function(a){var b=RegExp(/^ims-/),c={},d="",e=[];if("string"!=typeof a||a.length<5)return!1;if(e=a.split("."),3!==e.length)return!1;d=e[1].replace(/-/g,"+").replace(/_/g,"/");try{c=JSON.parse(atob(d))}catch(a){return!1}return!!(c.as&&b.test(c.as)&&c.client_id&&c.created_at&&c.expires_in&&c.id&&c.moi&&c.scope&&c.type)}}},a.utils=function(a,b,c){"use strict";function d(){var a=document.querySelector('script[src*="imslib.min.js"]');return a||(a=document.querySelector('script[src*="imslib.js"]')),a?a.src:""}function e(a){var b=8,c="";if(a.length%8!==0)throw Error("Length must be a multiple of 8");for(var d=0,e=a.length;d<e;d+=b){c+=a.slice(d,d+b).split("").reverse().join("")}return c}function f(a){return"string"==typeof a&&a.length>0}function g(a){return a.replace(/\s/g,"")}function h(a){return a&&"function"==typeof a}function i(a,b,c){return h(a)?a.apply(b,c||[]):null}function j(a,b){try{delete a[b]}catch(c){a[b]=void 0}}function k(a,b){if(null===a)return null===b;if(null===b)return null===a;if(typeof a!=typeof b)return!1;if(Array.isArray(a)){if(!Array.isArray(b)||a.length!==b.length)return!1;for(var c=0;c<a.length;++c)if(!k(a[c],b[c]))return!1;return!0}if("object"==typeof a){var d;for(d in a)if(!(d in b&&k(a[d],b[d])))return!1;for(d in b)if(!(d in a))return!1;return!0}return a===b}function l(a){if(null===a)return null;if("object"!=typeof a)return a;var b;if(Array.isArray(a))b=[],a.forEach(function(a){b.push(l(a))});else{b={};for(var d in a)a.hasOwnProperty(d)&&(b[d]=l(a[d]))}return c.assert(k(a,b),"cloned object has failed for "+JSON.stringify(a)),b}function m(a){return!a||k(a,{})}function n(){if(document.head)return document.head;var a=document.getElementsByTagName("head");return a&&a.length?a[0]:null}function o(a){var b=document.createElement("a");b.href=a;var c=b.protocol.replace(":",""),d={http:80,https:443},e=b.host;return d[c]&&(e=e.replace(RegExp(":"+d[c]+"$"),"")),{protocol:c,host:e,query:b.search,hash:b.hash.replace("#",""),path:("/"+b.pathname.slice(0,b.pathname.lastIndexOf("/")+1)).replace("//","/")}}function p(a){var b=o(a);return b.protocol+"://"+b.host+b.path}function q(b){!b&&a&&(b=a.getHref());var c=b.indexOf("#");return c!==-1?b.substring(c):""}function r(a){a=a.replace(/^(#|\?|&)/,"");var b={};return a.split("&").forEach(function(a){if(a.length){var c=a.split("=");b[c[0]]=decodeURIComponent(c[1])}}),b}function s(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function t(a){for(var b=l(a),c=1;c<arguments.length;++c){var d=arguments[c];if("object"==typeof d)for(var e in d){var f=d[e];void 0!==f?b[e]="object"!=typeof f?f:t(b[e]||{},f):j(b,e)}}return b}function u(a,b,c){return window.open(a,b,c)}function v(){window.close()}function w(){var a=Math.random().toString(16);return a.slice(a.indexOf(".")+1)}var x=d(),y=b;return x&&c.info("loaded from "+x),{isDebugMode:y,bitstringToLSB:e,String_hasContent:f,String_withoutWhitespaces:g,applyExtraApiParameters:t,parseUrl:o,getBasePath:p,getHashFromURL:q,getQueryParamsAsMap:r,isFunction:h,callIfFunction:i,removeKeyFromObject:j,cloneObject:l,equals:k,isEmptyObject:m,getDocumentHead:n,addEventListener:s,openPopup:u,closeWindow:v,getThisScriptSrc:d,createRandomString:w}},a.vendors=function(){"use strict";var b={},c={json:"https://static.adobelogin.com/renga-idprovider/resources/js/json2-min.js"},d=a.vendors.$$neededVendors(),e=function(a,b){var c=document.createElement("script");c.type="text/javascript",c.src=a,"function"==typeof b&&(c.onload=function(){window.setTimeout(b,1)}),(document.head||document.getElementsByTagName("head")[0]).appendChild(c)},f=function(a){e(c.json,a)},g=!1,h=[],i=function(){if(!d.isJSONNeeded||g)for(var a=h.shift();a;)a(b),a=h.shift()};return b.onLoad=function(a){h.push(a),window.setTimeout(i,0)},d.isJSONNeeded&&f(function(){g=!0,i()}),b},a.vendors.$$neededVendors=function(){"use strict";return{isJSONNeeded:function(){return!(window.JSON&&"function"==typeof window.JSON.stringify)}()}},(a.bootstrap=function(){"use strict";var b=a.adobeid(),c=a.alertMessages(),d=a.location(),e=a.token(),f=a.vendors(),g=a.log(b),h=a.utils(d,parseInt("",10),g),i=a.storage(h,g),j=a.analytics(i),k=a.events(h),l=a.base32(h),m=a.config(JSON.parse('{"services":"https://adobeid-na1.services.adobe.com/ims","login":"https://ims-na1.adobelogin.com/ims"}'),b,h,g),n=a.http(h,{jslClient:m.client_id,jslVersion:"4a1e185"},j,g),o=a.imsApis(n,h,b,m.api,l,m.client_id,m.locale,g);window.adobeIMS=a.adobeIMS(o,b,h,d,n,i,k,f,m,j,e,g),window.adobeIMS.version="1.11.0";var p=a.susiButtons(window.adobeIMS,h);a.optimizations(b.optimizations,window.adobeIMS),window.adobeIMS.config=m,window.adobeIMS.IMSAPIs=m.api,window.AdobeIMSStrings=c,window.adobeIMS._initOnDependencyLoad(),p.attachListeners()})()}({});
//# sourceMappingURL=imslib.min.js.map